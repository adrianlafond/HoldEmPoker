<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>poker pot test</title>

  <link rel="stylesheet" href="style.css" />

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
	<script src="../src/disbranded.poker.js"></script>
	<script src="../src/disbranded.poker.util.events.js"></script>
	<script src="../src/disbranded.poker.deck.js"></script>
  <script src="../src/disbranded.poker.hand.js"></script>
  <script src="../src/disbranded.poker.string.js"></script>
  <script src="../src/disbranded.poker.players.js"></script>
  <script src="../src/disbranded.poker.pot.js"></script>
  <script src="../src/disbranded.poker.game.js"></script>
  <script src="../src/disbranded.poker.holdem.js"></script>
  <script src="../src/disbranded.poker.holdem.defaults.js"></script>
	<script src="../src/disbranded.poker.holdem.game.js"></script>
	
  <script>
  jQuery(function ($) {


    var $output = $('ul.output'),
        startTime = (new Date).getTime(),
        nowTime = startTime,
        elapsed = function () {
          var t = (new Date).getTime(),
              str = ' : ' + ((t - nowTime) / 1000) + 's'
          nowTime = t
          return str
        },
        result,
        code = $('#testJS').text()
    
    $('.code').text(code)
    eval(code)
    $('.output').html(outputStr)
  })
  </script>
  
  <script type="text/code" id="testJS">
  var P = DISBRANDED.poker,
      pot = new P.Pot,
      outputStr = ''
  
  function printOutput(sidepots) {
    _.each(sidepots, function (pot) {
      outputStr += pot.total() +' :: '
      _.each(pot.players(), function (player) {
        outputStr += player +' '
      })
      outputStr += '<br>'
    })
    outputStr += '<br>'
  }
  
  ////
  pot.bet('a', 5)   //  5
  pot.bet('b', 10)  // 10
  pot.fold('c')     //  0
  pot.bet('d', 10)  // 10
  pot.bet('e', 20)  // 20
  pot.bet('f', 20)  // 20
  pot.bet('g', 20)  // 20
  pot.bet('h', 30)  // 30
  pot.bet('i', 12)  // 12 // all in
  ////
  pot.fold('a')     //  5
  pot.bet('b', 20)  // 30
  // c F            //  0
  pot.bet('d', 20)  // 30
  pot.fold('e')     // 20
  pot.bet('f', 10)  // 30
  pot.bet('g', 10)  // 30
  // h -            // 30
  // i -            // 12 // all in
  ////////
  // 187 | 89/98
  pot.end()
  
  ////
  // a F            //  0
  // b check        //  0
  // c F            //  0
  pot.bet('d', 8)   //  8 // all in
  // e F            //  0
  pot.bet('f', 8)   //  8
  pot.fold('g')     //  0
  pot.bet('h', 20)  // 20
  // i -            //  0
  ////
  // a F            //  0
  pot.bet('b', 20)  // 20
  // c F            //  0
  // d -            //  8 // all in
  // e F            //  0
  pot.fold('f')     //  8
  // g F            //  0
  // h -            // 20
  // i -            //  0
  ////////
  // 56 | 32/24 || 130/24
  pot.end()
  
  ////
  // a F
  // b check
  // c F
  // d -
  // e F
  // f F
  // g F
  pot.bet('h', 40)
  // i -
  ////
  pot.bet('b', 80)
  pot.bet('h', 40)
  ////////
  // 160 | 160 || 184
  printOutput(pot.end())
  </script>
</head>

<body>

  <div class="test">
    <pre class="code"></pre>
    <p class="output"></p>
  <div>

</body>
</html>