<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>poker game test</title>

  <link rel="stylesheet" href="style.css" />

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
	<script src="../src/disbranded.poker.js"></script>
	<script src="../src/disbranded.poker.util.events.js"></script>
	<script src="../src/disbranded.poker.defaults.js"></script>
	<script src="../src/disbranded.poker.deck.js"></script>
  <script src="../src/disbranded.poker.hand.js"></script>
  <script src="../src/disbranded.poker.string.js"></script>
  <script src="../src/disbranded.poker.players.js"></script>
  <script src="../src/disbranded.poker.pot.js"></script>
  <script src="../src/disbranded.poker.game.js"></script>
  <script src="../src/disbranded.poker.holdem.js"></script>
  <script src="../src/disbranded.poker.holdem.defaults.js"></script>
	<script src="../src/disbranded.poker.holdem.game.js"></script>
	
  <script>
  var poker = DISBRANDED.poker,
      holdem = poker.holdem,
      game
      
      
  function addPlayers() {
    game.addPlayer('falstaff', 500, 1)
    game.addPlayer('hal', 100, 2)
    game.addPlayer('bill', 250, 3)
    game.addPlayer('bebop', 300, 4)
  }
  
  
  function startGame() {
    game = new poker.holdem.Game
    
    game.on(poker.BEGIN, function (e) {
      console.log('BEGIN')
    })
    game.on(poker.BUTTON, function (e) {
      console.log('BUTTON', e.player)
    })    
    game.on(poker.ADDED, function (e) {
      console.log('ADDED: ' + e.id +', $' + e.chips +', seat ' + e.seat)
    })    
    game.on(poker.ERROR, function (e) {
      console.log('ERROR:', e.message)
    })
    game.on(poker.ANTE, function (e) {
      console.log('ANTE', e.code, '$' + e.chips)
    })
    game.on(poker.holdem.SMALL_BLIND, function (e) {
      console.log('SMALL_BLIND', e.code, '$' + e.chips)
    })
    game.on(poker.holdem.BIG_BLIND, function (e) {
      console.log('BIG_BLIND', e.code, '$' + e.chips)
    })
    
    game.on(poker.DEAL, function (e) {
      console.log('DEAL', e.code, e.card, e.face)
    })
    game.on(poker.TURN, function (e) {
      console.log('TURN', e.code)
      console.log('  check: ' + e.check)
      console.log('  call: ' + e.call)
      console.log('  raise: ' + e.raise)
    })
    
    console.log('Access game through variable "game".')
    addPlayers()
    game.deal()
  }
  
  jQuery(function ($) {
    startGame()
  })
  </script>  
</head>

<body>

  <div class="game">
    <p>Open the console.</p>
  </div>
  
</body>
</html>