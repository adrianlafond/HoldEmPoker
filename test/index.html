<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>hold 'em poker test</title>

  <link rel="stylesheet" href="style.css" />

	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
	<script src="../src/disbranded.poker.js"></script>
	<script src="../src/disbranded.poker.deck.js"></script>
  <script src="../src/disbranded.poker.hand.js"></script>
  <script src="../src/disbranded.poker.string.js"></script>
  <script src="../src/disbranded.poker.players.js"></script>
  <script src="../src/disbranded.poker.holdem.defaults.js"></script>
	<script src="../src/disbranded.poker.holdem.game.js"></script>
  <script>
  jQuery(function ($) {
    var P = DISBRANDED.poker,
        options = {
      
        },
        game = DISBRANDED.poker.holdem.Game(options)    
    // console.log(game)
    
    var output = $.fn.output
    $.fn.output = function (method, args, result) {
      DISBRANED.poker[method].call(this, args)
    }

    var $outputHand = $('ul.hand'),
        startTime = (new Date).getTime(),
        nowTime = startTime,

        elapsed = function () {
          var t = (new Date).getTime(),
              str = ' : ' + ((t - nowTime) / 1000) + 's'
          nowTime = t
          return str
        },
        
        result,
        getSetResult = function (result) {
          var i, len, str = ''
          if (!result) {
            return 'null'
          }
          for (i = 0, len = result.length; i < len; i++) {
            str += result[i]
            if (i < len - 1) {
              str += ' + '
            }
          }
          return str
        }

    $outputHand.append("<li>Hand.isFlush(['KS','4H','5S','9S','TS','5C','2S']) = "
                       + P.Hand.isFlush(['KS','4H','5S','9S','TS','5C','2S'])
                       + elapsed() + "</li>")
    //                  
    $outputHand.append("<li>Hand.isFlush(['KS','4H','5S','9H','TS','5C','2S']) = "
                       + P.Hand.isFlush(['KS','4H','5S','9H','TS','5C','2S'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isFlush(['KS','JS','9S','7S','5S','KH','JH','9H','7H','4H']) = "
                       + P.Hand.isFlush(['KS','JS','9S','7S','5S','KH','JH','9H','7H','4H'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isFlush(['KS','4S','5S','9S']) = "
                       + P.Hand.isFlush(['KS','4S','5S','9S'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraight(['KS','4S','5S','9S','QH','TD','JD']) = "
                       + P.Hand.isStraight(['KS','4S','5S','9S','QH','TD','JD'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraight(['AS','8D','7S','9S','QH','TD','JD']) = "
                       + P.Hand.isStraight(['AS','8D','7S','9S','QH','TD','JD'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraight(['KS','4S','5S','9S','QH','TD','7C']) = "
                       + P.Hand.isStraight(['KS','4S','5S','9S','QH','TD','7C'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraight(['3H','4D','5C','7S','6H','KS','JH','QD','TC','9H']) = "
                       + P.Hand.isStraight(['3H','4D','5C','7S','6H','KS','JH','QD','TC','9H'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraight(['TC','JC','QC','KC']) = "
                       + P.Hand.isStraight(['TC','JC','QC','KC'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraightFlush(['KS','4S','5S','9S','QH','TD','JD']) = "
                       + P.Hand.isStraightFlush(['KS','4S','5S','9S','QH','TD','JD'])
                       + elapsed() + "</li>")
    //  
    $outputHand.append("<li>Hand.isStraightFlush(['KD','4S','5S','9D','QD','TD','JD']) = "
                       + P.Hand.isStraightFlush(['KD','4S','5S','9D','QD','TD','JD'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.isStraightFlush(['KD','4S','5S','9D','QD','TD','JD']) = "
                       + P.Hand.isStraightFlush(['AD','KH','8D','9D','QD','TD','JD'])
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','6C','6S','5S','6H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','6C','6S','5S','6H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','6C','QH','5S','6H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','6C','QH','5S','6H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','6C','QH','JS','6H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','6C','QH','JS','6H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','6C','QH','JS','5H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','6C','QH','JS','5H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','6C','QH','JS','9H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','6C','QH','JS','9H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    result = P.Hand.findSets(['5C','6D','8H','2C','QH','JS','9H'])
    $outputHand.append("<li>Hand.findSets(['5C','6D','8H','2C','QH','JS','9H']) = "
                       + getSetResult(result)
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.sortByRank(['5C','6D','8H','2C','QH','JS','9H']) = "
                       + P.Hand.sortByRank(['5C','6D','8H','2C','QH','JS','9H'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.sortByRank(['5C','5D','8H','8C','QH','JS','9H']) = "
                       + P.Hand.sortByRank(['5C','5D','8H','8C','QH','JS','9H'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.sortByRank(['2H','AC','8D']) = "
                       + P.Hand.sortByRank(['2H','AC','8D'])
                       + elapsed() + "</li>")
    //
    $outputHand.append("<li>Hand.sortByRank([]) = "
                       + P.Hand.sortByRank([])
                       + elapsed() + "</li>")
    //
    
    $outputHand.append("<li>TOTAL: " + (((new Date).getTime() - startTime) / 1000) + "s</li>")
    
    // DISBRANDED.poker.Hand.findSets(['5C', '6D', '8H', '6C', '6S', '5S', '6H'])
    
    $.fn.output = output
  })
  </script>
</head>

<body>

  <div class="test">
    <ul class="hand"></ul>
  <div>

</body>
</html>